import{L as n,D as r,h as l,K as i}from"#entry";import{u as a}from"./T7rvwAHf.js";const f=n("postCompositionStore",()=>{r();const o=l([]),e=i({});return{posts:o,post:e,getPosts:async()=>{const t=await a("http://localhost:3001/posts","$B9jbG-tuwo");o.value=t.data.value??[]},getPost:async t=>{const s=await a(`http://localhost:3001/posts/${t.params.id}`,"$JFMgpPD0HB");Object.assign(e,s.data.value)},createPost:async t=>{const s=await $fetch("http://localhost:3001/posts",{method:"POST",body:t});console.log(s,"createPost"),Object.assign(t,{title:"",body:""})},updatePost:async()=>{const t=await $fetch(`http://localhost:3001/posts/${e.id}`,{method:"PATCH",body:e});console.log(t,"update")},deletePost:async t=>{if(!t.id){console.error("Post ID is missing");return}const s=await $fetch(`http://localhost:3001/posts/${t.id}`,{method:"DELETE"});o.value=o.value.filter(c=>c!==t),console.log(s,"DELETE")}}});export{f as u};
