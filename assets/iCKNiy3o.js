import{d as h,y as k,c as l,a as n,b as s,w as o,u as c,F,r as w,_ as x,o as d,e as i,t as p,k as E}from"#entry";import{a as v}from"./CeCWZl60.js";const D={key:0},L=["onClick"],$=h({__name:"useLazyFetch",async setup(P){let r,u;const{data:f,refresh:_,pending:y}=([r,u]=k(()=>v("http://localhost:3001/posts","$utf-uiSrn5")),r=await r,u(),r),g=async m=>{const t=await $fetch(`http://localhost:3001/posts/${m.id}`,{method:"DELETE"});await _(),console.log(t,"DELETE")};return(m,t)=>{const a=x;return d(),l("div",null,[t[4]||(t[4]=n("h2",{class:"title"},"Практика UseFetch()",-1)),s(a,{to:"/"},{default:o(()=>[...t[0]||(t[0]=[i("Главная",-1)])]),_:1}),s(a,{to:{name:"learning-useFetchPractic"}},{default:o(()=>[...t[1]||(t[1]=[i("Назад",-1)])]),_:1}),t[5]||(t[5]=n("br",null,null,-1)),t[6]||(t[6]=n("br",null,null,-1)),s(a,{to:{name:"learning-useFetchPractic-createPost"}},{default:o(()=>[...t[2]||(t[2]=[i("Создать запись",-1)])]),_:1}),c(y)?(d(),l("div",D,"Загрузка... ")):(d(!0),l(F,{key:1},w(c(f),e=>(d(),l("div",{key:e.id},[n("h3",null,[s(a,{to:{name:"learning-useFetchPractic-id",params:{id:e.id},query:{title:e.title}}},{default:o(()=>[i(p(e.title),1)]),_:2},1032,["to"])]),n("p",null,p(e.body),1),s(a,{to:{name:"learning-useFetchPractic-id-edit",params:{id:e.id}}},{default:o(()=>[...t[3]||(t[3]=[i("Редактировать",-1)])]),_:1},8,["to"]),n("div",null,[n("button",{onClick:E(b=>g(e),["prevent"])},"Удалить",8,L)])]))),128))])}}});export{$ as default};
