import{K as a}from"#entry";import{u as o}from"./CH-szIxS.js";const n=a("postStore",{state:()=>({posts:[],post:{},_executePosts:null}),actions:{async getPosts(){const t=await o("http://localhost:3001/posts","$gbRnwWGb9n");this.posts=t.data.value??[]},async getPost(t){const s=await o(`http://localhost:3001/posts/${t.params.id}`,"$Gphi-9OzQB");this.post=s.data.value??{id:"",title:"",body:""}},async createPost(){const t=await $fetch("http://localhost:3001/posts",{method:"POST",body:this.post});console.log(t,"createPost"),this.post={}},async updatePost(){const t=await $fetch(`http://localhost:3001/posts/${this.post.id}`,{method:"PATCH",body:this.post});console.log(t,"update")},async deletePost(t){if(!t.id){console.error("Post ID is missing");return}const s=await $fetch(`http://localhost:3001/posts/${t.id}`,{method:"DELETE"});this.posts=this.posts.filter(e=>e!==t),console.log(s,"DELETE")},async executePosts(){this._executePosts?await this._executePosts():console.warn("executePosts: _executePosts is null or not a function")}}});export{n as u};
