import{i as h,C as F,c as l,a as n,d as s,w as o,u as c,F as k,r as v,_ as w,o as d,b as i,t as p,v as x}from"#entry";import{a as E}from"./T7rvwAHf.js";const C={key:0},D=["onClick"],$=h({__name:"useLazyFetch",async setup(L){let r,u;const{data:f,refresh:_,pending:y}=([r,u]=F(()=>E("http://localhost:3001/posts","$utf-uiSrn5")),r=await r,u(),r),g=async m=>{const t=await $fetch(`http://localhost:3001/posts/${m.id}`,{method:"DELETE"});await _(),console.log(t,"DELETE")};return(m,t)=>{const a=w;return d(),l("div",null,[t[4]||(t[4]=n("h2",{class:"title"},"Практика UseFetch()",-1)),s(a,{to:"/"},{default:o(()=>[...t[0]||(t[0]=[i("Главная",-1)])]),_:1}),s(a,{to:{name:"learning-useFetchPractic"}},{default:o(()=>[...t[1]||(t[1]=[i("Назад",-1)])]),_:1}),t[5]||(t[5]=n("br",null,null,-1)),t[6]||(t[6]=n("br",null,null,-1)),s(a,{to:{name:"learning-useFetchPractic-createPost"}},{default:o(()=>[...t[2]||(t[2]=[i("Создать запись",-1)])]),_:1}),c(y)?(d(),l("div",C,"Загрузка... ")):(d(!0),l(k,{key:1},v(c(f),e=>(d(),l("div",{key:e.id},[n("h3",null,[s(a,{to:{name:"learning-useFetchPractic-id",params:{id:e.id},query:{title:e.title}}},{default:o(()=>[i(p(e.title),1)]),_:2},1032,["to"])]),n("p",null,p(e.body),1),s(a,{to:{name:"learning-useFetchPractic-id-edit",params:{id:e.id}}},{default:o(()=>[...t[3]||(t[3]=[i("Редактировать",-1)])]),_:1},8,["to"]),n("div",null,[n("button",{onClick:x(P=>g(e),["prevent"])},"Удалить",8,D)])]))),128))])}}});export{$ as default};
