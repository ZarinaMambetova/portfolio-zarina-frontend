import{d as c,y as P,c as l,a as e,b as r,j as p,w as o,k as y,u,F as w,r as E,_,o as a,e as i,t as k}from"#entry";import{u as L}from"./CeCWZl60.js";const N={key:0},$={key:1},V={key:2},B=["onClick"],z=c({__name:"index",async setup(T){let d,f;const{data:g,refresh:x,pending:F,error:b,status:v,execute:D}=([d,f]=P(()=>L("http://localhost:3001/posts",{key:"posts"},"$ysjfxqk8Zm")),d=await d,f(),d),C=async m=>{if(!m.id){console.error("Post ID is missing");return}const t=await $fetch(`http://localhost:3001/posts/${m.id}`,{method:"DELETE"});await x(),console.log(t,"DELETE")};return(m,t)=>{const s=_;return a(),l("div",null,[t[6]||(t[6]=e("h2",{class:"title"},"Практика UseFetch()",-1)),r(s,{to:"/"},{default:o(()=>[...t[1]||(t[1]=[i("Главная",-1)])]),_:1}),t[7]||(t[7]=e("br",null,null,-1)),r(s,{to:"/learning/useFetchPractic/keyCase"},{default:o(()=>[...t[2]||(t[2]=[i("Cache",-1)])]),_:1}),t[8]||(t[8]=e("br",null,null,-1)),r(s,{to:"/learning/useFetchPractic/useLazyFetch"},{default:o(()=>[...t[3]||(t[3]=[i("useLazyFetch",-1)])]),_:1}),t[9]||(t[9]=e("br",null,null,-1)),t[10]||(t[10]=e("br",null,null,-1)),e("button",{onClick:t[0]||(t[0]=y(n=>u(D)(),["prevent"]))},"Обновить"),t[11]||(t[11]=e("br",null,null,-1)),t[12]||(t[12]=e("br",null,null,-1)),r(s,{to:{name:"learning-useFetchPractic-createPost"}},{default:o(()=>[...t[4]||(t[4]=[i("Создать запись",-1)])]),_:1}),u(F)?(a(),l("div",N,"Загрузка...")):p("",!0),u(b)?(a(),l("div",$,"Произошла ошибка загрузки. Пожалуйста, повторите позже.")):p("",!0),u(v)==="success"?(a(),l("div",V,[(a(!0),l(w,null,E(u(g),n=>(a(),l("div",null,[e("h3",null,[r(s,{to:{name:"learning-useFetchPractic-id",params:{id:n.id},query:{title:n.title}}},{default:o(()=>[i(k(n.title),1)]),_:2},1032,["to"])]),e("p",null,k(n.body),1),r(s,{to:{name:"learning-useFetchPractic-id-edit",params:{id:n.id}}},{default:o(()=>[...t[5]||(t[5]=[i("Редактировать",-1)])]),_:1},8,["to"]),e("div",null,[e("button",{onClick:y(h=>C(n),["prevent"])},"Удалить",8,B)])]))),256))])):p("",!0)])}}});export{z as default};
